<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peach Electronics</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
  git config --global user.email "gabykajjo4321@gmail.com"
  git config --global user.name "gabykajjo4321-svg"
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        /* Navigation Bar */
        .navbar {
            background: white;
            padding: 15px 50px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 40px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo-container {
            position: relative;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .logo {
            width: 50px;
            height: 50px;
            transition: transform 0.3s;
        }

        .logo:hover {
            transform: scale(1.1);
        }

        .brand-name {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-left: 10px;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.3s ease;
        }

        .logo-container:hover .brand-name {
            opacity: 1;
            transform: translateX(0);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            margin-left: auto;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            padding: 10px 20px;
            border-radius: 5px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover {
            background: #667eea;
            color: white;
        }

        /* Auth Container */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 80px);
            padding: 20px;
        }

        .auth-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            width: 100%;
            max-width: 400px;
        }

        .auth-box h2 {
            color: #667eea;
            margin-bottom: 30px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            width: 100%;
            padding: 12px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #5568d3;
        }

        .forgot-password {
            text-align: center;
            margin-top: 30px;
            margin-bottom: 20px;
        }

        .forgot-password a {
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
        }

        .forgot-password a:hover {
            text-decoration: underline;
        }

        .toggle-auth {
            text-align: center;
            margin-top: 20px;
            color: #666;
        }

        .toggle-auth a {
            color: #667eea;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
        }

        .toggle-auth a:hover {
            text-decoration: underline;
        }

        /* Home Page */
        .home-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 80px);
            text-align: center;
            color: white;
            padding: 40px;
        }

        .home-logo {
            width: 200px;
            height: 200px;
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .home-tagline {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .home-description {
            font-size: 24px;
            max-width: 600px;
            opacity: 0.9;
        }

        /* Product Pages */
        .products-container {
            padding: 40px;
            min-height: calc(100vh - 80px);
        }

        .products-title {
            text-align: center;
            color: white;
            font-size: 36px;
            margin-bottom: 40px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .product-card:hover {
            transform: translateY(-10px);
        }

        .product-image {
            font-size: 80px;
            text-align: center;
            margin-bottom: 15px;
        }

        .product-name {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 24px;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .product-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }

        /* Admin Panel */
        .admin-container {
            padding: 40px;
            min-height: calc(100vh - 80px);
        }

        .admin-title {
            text-align: center;
            color: white;
            font-size: 36px;
            margin-bottom: 40px;
        }

        .admin-panel {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .admin-section {
            margin-bottom: 40px;
        }

        .admin-section h3 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .product-list {
            margin-top: 30px;
        }

        .product-item {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-info {
            flex: 1;
        }

        .product-actions {
            display: flex;
            gap: 10px;
        }

        .btn-delete {
            padding: 8px 16px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .btn-delete:hover {
            background: #c82333;
        }

        .logout-btn {
            background: #dc3545;
            padding: 10px 20px;
            border-radius: 5px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            cursor: pointer;
            border: none;
        }

        .logout-btn:hover {
            background: #c82333;
        }

        .hidden {
            display: none;
        }

        .message {
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 5px;
            text-align: center;
        }

        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
<!-- Navigation Bar -->
<nav class="navbar hidden" id="navbar">
    <div class="logo-container" onclick="showPage('home')">
        <svg class="logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <circle cx="100" cy="120" r="70" fill="#FF6B9D"/>
            <ellipse cx="85" cy="120" rx="15" ry="70" fill="#FFB6C1" opacity="0.6"/>
            <path d="M 100 50 Q 90 30, 85 20 Q 83 15, 88 13 Q 95 10, 100 15 Q 105 10, 112 13 Q 117 15, 115 20 Q 110 30, 100 50" fill="#4CAF50"/>
            <ellipse cx="90" cy="18" rx="8" ry="6" fill="#81C784" transform="rotate(-30 90 18)"/>
        </svg>
        <span class="brand-name">Peach</span>
    </div>
    <div class="nav-links">
        <a onclick="showPage('laptops')">Laptops</a>
        <a onclick="showPage('ipads')">iPads</a>
        <a onclick="showPage('iphones')">iPhones</a>
        <a onclick="showPage('smartwatches')">Smart Watches</a>
        <a onclick="showPage('headphones')">Headphones</a>
        <a id="adminLink" class="hidden" onclick="showPage('admin')">Admin Panel</a>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
</nav>

<!-- Login Page -->
<div class="auth-container" id="loginPage">
    <div class="auth-box">
        <h2>Sign In</h2>
        <div id="loginMessage"></div>
        <form id="loginForm">
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="loginEmail" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="loginPassword" required>
            </div>
            <button type="button" class="btn" onclick="handleLogin()">Sign In</button>
        </form>
        <div class="forgot-password">
            <a onclick="showForgotPassword()">Forgot Password?</a>
        </div>
        <div class="toggle-auth">
            Don't have an account? <a onclick="showRegister()">Register</a>
        </div>
    </div>
</div>

<!-- Register Page -->
<div class="auth-container hidden" id="registerPage">
    <div class="auth-box">
        <h2>Register</h2>
        <div id="registerMessage"></div>
        <form id="registerForm">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="registerName" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="registerEmail" required>
            </div>
            <div class="form-group">
                <label>Phone Number</label>
                <input type="tel" id="registerPhone" required>
            </div>
            <div class="form-group">
                <label>Address</label>
                <input type="text" id="registerAddress" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" id="registerPassword" required>
            </div>
            <button type="button" class="btn" onclick="handleRegister()">Register</button>
        </form>
        <div class="toggle-auth" style="margin-top: 20px;">
            Already have an account? <a onclick="showLogin()">Sign In</a>
        </div>
    </div>
</div>

<!-- Forgot Password Page -->
<div class="auth-container hidden" id="forgotPasswordPage">
    <div class="auth-box">
        <h2>Forgot Password</h2>
        <div id="forgotMessage"></div>
        <form id="forgotForm">
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="forgotEmail" required>
            </div>
            <div class="form-group">
                <label>New Password</label>
                <input type="password" id="newPassword" required>
            </div>
            <button type="button" class="btn" onclick="handleForgotPassword()">Reset Password</button>
        </form>
        <div class="toggle-auth" style="margin-top: 20px;">
            Remember your password? <a onclick="showLogin()">Sign In</a>
        </div>
    </div>
</div>

<!-- Home Page -->
<div class="home-container hidden" id="homePage">
    <svg class="home-logo" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
        <circle cx="100" cy="120" r="70" fill="#FF6B9D"/>
        <ellipse cx="85" cy="120" rx="15" ry="70" fill="#FFB6C1" opacity="0.6"/>
        <path d="M 100 50 Q 90 30, 85 20 Q 83 15, 88 13 Q 95 10, 100 15 Q 105 10, 112 13 Q 117 15, 115 20 Q 110 30, 100 50" fill="#4CAF50"/>
        <ellipse cx="90" cy="18" rx="8" ry="6" fill="#81C784" transform="rotate(-30 90 18)"/>
    </svg>
    <div class="home-tagline">Give Something Special.</div>
    <div class="home-description">Experience better screen quality with the new Peach laptop.</div>
</div>

<!-- Product Pages -->
<div class="products-container hidden" id="laptopsPage">
    <h1 class="products-title">Laptops</h1>
    <div class="products-grid" id="laptopsGrid"></div>
</div>

<div class="products-container hidden" id="ipadsPage">
    <h1 class="products-title">iPads</h1>
    <div class="products-grid" id="ipadsGrid"></div>
</div>

<div class="products-container hidden" id="iphonesPage">
    <h1 class="products-title">iPhones</h1>
    <div class="products-grid" id="iphonesGrid"></div>
</div>

<div class="products-container hidden" id="smartwatchesPage">
    <h1 class="products-title">Smart Watches</h1>
    <div class="products-grid" id="smartwatchesGrid"></div>
</div>

<div class="products-container hidden" id="headphonesPage">
    <h1 class="products-title">Headphones</h1>
    <div class="products-grid" id="headphonesGrid"></div>
</div>

<!-- Admin Panel -->
<div class="admin-container hidden" id="adminPage">
    <h1 class="admin-title">Admin Panel</h1>
    <div class="admin-panel">
        <div class="admin-section">
            <h3>Add New Product</h3>
            <div id="adminMessage"></div>
            <form id="addProductForm">
                <div class="form-group">
                    <label>Product Name</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label>Price</label>
                    <input type="number" step="0.01" id="productPrice" required>
                </div>
                <div class="form-group">
                    <label>Category</label>
                    <select id="productCategory" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
                        <option value="laptop">Laptop</option>
                        <option value="ipad">iPad</option>
                        <option value="iphone">iPhone</option>
                        <option value="smartwatch">Smart Watch</option>
                        <option value="headphones">Headphones</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <input type="text" id="productDescription">
                </div>
                <div class="form-group">
                    <label>Image URL</label>
                    <input type="text" id="productImageUrl" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label>Stock</label>
                    <input type="number" id="productStock" required>
                </div>
                <button type="button" class="btn" onclick="addProduct()">Add Product</button>
            </form>
        </div>

        <div class="admin-section">
            <h3>Manage Products</h3>
            <div class="product-list" id="adminProductList"></div>
        </div>
    </div>
</div>

<script>
    const API_URL = 'http://localhost:8088/api';

    // Register user
    async function handleRegister() {
        const fullName = document.getElementById('registerName').value;
        const email = document.getElementById('registerEmail').value;
        const phoneNumber = document.getElementById('registerPhone').value;
        const address = document.getElementById('registerAddress').value;
        const password = document.getElementById('registerPassword').value;

        try {
            const response = await fetch(`${API_URL}/users/register`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    fullName,
                    email,
                    phoneNumber,
                    address,
                    password
                })
            });

            const data = await response.json();

            if (response.ok) {
                showMessage('registerMessage', 'Registration successful! Welcome!', 'success');
                sessionStorage.setItem('currentUser', JSON.stringify(data));
                setTimeout(() => {
                    document.getElementById('registerPage').classList.add('hidden');
                    document.getElementById('navbar').classList.remove('hidden');
                    document.getElementById('homePage').classList.remove('hidden');
                    loadProducts();
                }, 1000);
            } else {
                showMessage('registerMessage', data.error || 'Registration failed!', 'error');
            }
        } catch (error) {
            showMessage('registerMessage', 'Error connecting to server!', 'error');
        }
    }

    // Login user
    async function handleLogin() {
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;

        try {
            const response = await fetch(`${API_URL}/users/login`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ email, password })
            });

            const data = await response.json();

            if (response.ok) {
                showMessage('loginMessage', 'Login successful!', 'success');
                sessionStorage.setItem('currentUser', JSON.stringify(data));

                // Check if admin
                if (data.email === 'admin@gmail.com') {
                    sessionStorage.setItem('isAdmin', 'true');
                }

                setTimeout(() => {
                    document.getElementById('loginPage').classList.add('hidden');
                    document.getElementById('navbar').classList.remove('hidden');
                    document.getElementById('homePage').classList.remove('hidden');

                    // Show admin link if admin
                    if (data.email === 'admin@gmail.com') {
                        document.getElementById('adminLink').classList.remove('hidden');
                    }

                    loadProducts();
                }, 1000);
            } else {
                showMessage('loginMessage', data.error || 'Invalid credentials!', 'error');
            }
        } catch (error) {
            showMessage('loginMessage', 'Error connecting to server!', 'error');
        }
    }

    // Forgot password
    async function handleForgotPassword() {
        const email = document.getElementById('forgotEmail').value;
        const newPassword = document.getElementById('newPassword').value;

        try {
            const response = await fetch(`${API_URL}/users/forgot-password`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ email, newPassword })
            });

            const data = await response.json();

            if (response.ok) {
                showMessage('forgotMessage', 'Password reset successful!', 'success');
                setTimeout(() => showLogin(), 2000);
            } else {
                showMessage('forgotMessage', data.error || 'Reset failed!', 'error');
            }
        } catch (error) {
            showMessage('forgotMessage', 'Error connecting to server!', 'error');
        }
    }

    // Load products from backend
    async function loadProducts() {
        try {
            const response = await fetch(`${API_URL}/products`);
            const products = await response.json();

            const categories = {
                laptop: 'laptopsGrid',
                ipad: 'ipadsGrid',
                iphone: 'iphonesGrid',
                smartwatch: 'smartwatchesGrid',
                headphones: 'headphonesGrid'
            };

            // Clear grids
            Object.values(categories).forEach(gridId => {
                document.getElementById(gridId).innerHTML = '';
            });

            // Populate products
            products.forEach(product => {
                const gridId = categories[product.category.toLowerCase()];
                if (gridId) {
                    const grid = document.getElementById(gridId);
                    const productCard = createProductCard(product);
                    grid.innerHTML += productCard;
                }
            });
        } catch (error) {
            console.error('Error loading products:', error);
        }
    }

    // Create product card HTML
    function createProductCard(product) {
        const emoji = {
            laptop: 'ðŸ’»',
            ipad: 'ðŸ“±',
            iphone: 'ðŸ“±',
            smartwatch: 'âŒš',
            headphones: 'ðŸŽ§'
        }[product.category.toLowerCase()] || 'ðŸ“¦';

        return `
            <div class="product-card">
                <div class="product-image">${emoji}</div>
                <div class="product-name">${product.name}</div>
                <div class="product-price">$${product.price}</div>
                ${product.description ? `<div class="product-description">${product.description}</div>` : ''}
            </div>
        `;
    }

    // Show message
    function showMessage(elementId, message, type) {
        const messageDiv = document.getElementById(elementId);
        messageDiv.innerHTML = `<div class="message ${type}">${message}</div>`;
        setTimeout(() => {
            messageDiv.innerHTML = '';
        }, 3000);
    }

    // Navigation functions
    function showLogin() {
        document.getElementById('registerPage').classList.add('hidden');
        document.getElementById('forgotPasswordPage').classList.add('hidden');
        document.getElementById('loginPage').classList.remove('hidden');
    }

    function showRegister() {
        document.getElementById('loginPage').classList.add('hidden');
        document.getElementById('forgotPasswordPage').classList.add('hidden');
        document.getElementById('registerPage').classList.remove('hidden');
    }

    function showForgotPassword() {
        document.getElementById('loginPage').classList.add('hidden');
        document.getElementById('registerPage').classList.add('hidden');
        document.getElementById('forgotPasswordPage').classList.remove('hidden');
    }

    function showPage(page) {
        document.getElementById('homePage').classList.add('hidden');
        document.getElementById('laptopsPage').classList.add('hidden');
        document.getElementById('ipadsPage').classList.add('hidden');
        document.getElementById('iphonesPage').classList.add('hidden');
        document.getElementById('smartwatchesPage').classList.add('hidden');
        document.getElementById('headphonesPage').classList.add('hidden');
        document.getElementById('adminPage').classList.add('hidden');

        document.getElementById(page + 'Page').classList.remove('hidden');

        // Load admin products if admin page
        if (page === 'admin') {
            loadAdminProducts();
        }
    }

    // Add product (admin only)
    async function addProduct() {
        const name = document.getElementById('productName').value;
        const price = parseFloat(document.getElementById('productPrice').value);
        const category = document.getElementById('productCategory').value;
        const description = document.getElementById('productDescription').value;
        const imageUrl = document.getElementById('productImageUrl').value;
        const stock = parseInt(document.getElementById('productStock').value);

        try {
            const response = await fetch(`${API_URL}/products`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    name,
                    price,
                    category,
                    description,
                    imageUrl,
                    stock
                })
            });

            if (response.ok) {
                showMessage('adminMessage', 'Product added successfully!', 'success');
                document.getElementById('addProductForm').reset();
                loadProducts();
                loadAdminProducts();
            } else {
                showMessage('adminMessage', 'Failed to add product!', 'error');
            }
        } catch (error) {
            showMessage('adminMessage', 'Error connecting to server!', 'error');
        }
    }

    // Delete product (admin only)
    async function deleteProduct(id) {
        if (!confirm('Are you sure you want to delete this product?')) {
            return;
        }

        try {
            const response = await fetch(`${API_URL}/products/${id}`, {
                method: 'DELETE'
            });

            if (response.ok) {
                alert('Product deleted successfully!');
                loadProducts();
                loadAdminProducts();
            } else {
                alert('Failed to delete product!');
            }
        } catch (error) {
            alert('Error connecting to server!');
        }
    }

    // Load products for admin panel
    async function loadAdminProducts() {
        try {
            const response = await fetch(`${API_URL}/products`);
            const products = await response.json();

            const listDiv = document.getElementById('adminProductList');
            listDiv.innerHTML = '';

            products.forEach(product => {
                listDiv.innerHTML += `
                    <div class="product-item">
                        <div class="product-info">
                            <strong>${product.name}</strong> - ${product.price}
                            <span style="color: #666;">(${product.category})</span>
                            <br>
                            <small>Stock: ${product.stock}</small>
                        </div>
                        <div class="product-actions">
                            <button class="btn-delete" onclick="deleteProduct(${product.id})">Delete</button>
                        </div>
                    </div>
                `;
            });
        } catch (error) {
            console.error('Error loading admin products:', error);
        }
    }

    // Logout function
    function logout() {
        sessionStorage.clear();
        document.getElementById('navbar').classList.add('hidden');
        document.getElementById('homePage').classList.add('hidden');
        document.getElementById('laptopsPage').classList.add('hidden');
        document.getElementById('ipadsPage').classList.add('hidden');
        document.getElementById('iphonesPage').classList.add('hidden');
        document.getElementById('smartwatchesPage').classList.add('hidden');
        document.getElementById('headphonesPage').classList.add('hidden');
        document.getElementById('adminPage').classList.add('hidden');
        document.getElementById('adminLink').classList.add('hidden');
        document.getElementById('loginPage').classList.remove('hidden');
    }
</script>
</body>
</html>/[